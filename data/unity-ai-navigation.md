# Unity AI Navigation çŸ¥è¯†

æœ¬æ–‡æ¡£è®°å½• Unity AI Navigation (NavMesh) ç³»ç»Ÿç›¸å…³çš„æŠ€æœ¯è§„èŒƒã€æœºåˆ¶å’ŒåŸç†ã€‚

---

## å¤šåœºæ™¯ç‹¬ç«‹çƒ˜ç„™ä¸è¿è¡Œæ—¶è¿æ¥æœºåˆ¶

**æ ‡ç­¾**ï¼š#unity #knowledge #nav-mesh #ai-navigation
**æ¥æº**ï¼šUnity å®˜æ–¹æ–‡æ¡£ / ç¤¾åŒºéªŒè¯
**æ¥æºæ—¥æœŸ**ï¼š2026-02-05
**æ”¶å½•æ—¥æœŸ**ï¼š2026-02-05
**å¯ä¿¡åº¦**ï¼šâ­â­â­â­ (å®˜æ–¹æ–‡æ¡£+å®è·µéªŒè¯)
**çŠ¶æ€**ï¼šğŸ“˜ æœ‰æ•ˆ

### å®šä¹‰/æ¦‚å¿µ

åœ¨ç°ä»£ Unity (AI Navigation åŒ…) ä¸­ï¼Œæ”¯æŒå¯¹å¤šä¸ªåœºæ™¯ï¼ˆæˆ– Prefabï¼‰åˆ†åˆ«ç‹¬ç«‹çƒ˜ç„™ NavMesh æ•°æ®ã€‚å½“è¿™äº›åœºæ™¯åœ¨è¿è¡Œæ—¶ä»¥ `LoadSceneMode.Additive` æ–¹å¼åŠ è½½åˆ°ä¸€èµ·æ—¶ï¼Œç³»ç»Ÿä¼šå°è¯•å°†å®ƒä»¬ç»„åˆã€‚

å³ä½¿å¤šä¸ª NavMesh å—åœ¨ç©ºé—´ä¸Šé‡å ï¼Œå®ƒä»¬åœ¨å†…å­˜å’Œé€»è¾‘ä¸Šä¾ç„¶æ˜¯**ç‹¬ç«‹**çš„ç½‘æ ¼æ•°æ® (`NavMeshData` å®ä¾‹)ï¼Œ**ä¸ä¼š**è‡ªåŠ¨ç¼åˆè¾¹ç¼˜ã€‚

### åŸç†/è¯¦è§£

#### 1. ç‹¬ç«‹çƒ˜ç„™ (Independent Baking)
- ä½¿ç”¨ `NavMeshSurface` ç»„ä»¶æ›¿ä»£æ—§ç‰ˆçš„ Navigation çª—å£ã€‚
- æ¯ä¸ªåœºæ™¯/Prefab æŒ‚è½½ `NavMeshSurface`ï¼Œæ•°æ®å•ç‹¬å­˜å‚¨ä¸º `.asset` æ–‡ä»¶ã€‚
- æ•°æ®åŠ è½½æ—¶é€šè¿‡ `NavMesh.AddNavMeshData()` æ³¨å†Œåˆ°å…¨å±€ NavMesh ç³»ç»Ÿä¸­ã€‚

#### 2. è¿æ¥æœºåˆ¶ (Link Mechanism)
- **éè‡ªåŠ¨ç¼åˆ**ï¼šUnity è¿è¡Œæ—¶**ä¸ä¼š**è‡ªåŠ¨è®¡ç®—ä¸¤ä¸ªç‹¬ç«‹ `NavMeshData` çš„è¾¹ç¼˜å¹¶ç¼åˆå®ƒä»¬ï¼Œå³ä½¿å®ƒä»¬å®Œç¾é‡å ã€‚
- **NavMeshLink**ï¼šå¿…é¡»ä½¿ç”¨è¿æ¥å™¨ï¼ˆå¦‚ `NavMeshLink` æˆ– `OffMeshLink`ï¼‰æ¥è·¨è¶Šä¸åŒ `NavMeshData` ä¹‹é—´çš„è¾¹ç•Œã€‚

#### 3. å¯¹æ¯”ï¼šè¿è¡Œæ—¶çƒ˜ç„™ (Runtime Baking)
- å¦‚æœåœ¨è¿è¡Œæ—¶è°ƒç”¨ `NavMeshSurface.BuildNavMesh()` å¯¹æ•´ä¸ªåˆå¹¶åçš„åœºæ™¯è¿›è¡Œ**å®æ—¶çƒ˜ç„™**ï¼Œåˆ™ç”Ÿæˆçš„æ˜¯**å•ä¸ª**è¿é€šçš„ NavMeshï¼Œè¾¹ç¼˜ä¼šè‡ªåŠ¨å¤„ç†ã€‚ä½†è¿™é€šå¸¸å¼€é”€å·¨å¤§ã€‚

### å…³é”®ç‚¹

- **ç‹¬ç«‹çƒ˜ç„™ != è‡ªåŠ¨è¿é€š**ï¼šåˆ†å¼€çƒ˜ç„™çš„æ•°æ®å—æ˜¯ç‰©ç†éš”ç¦»çš„â€œå­¤å²›â€ã€‚
- **å¿…é¡»ä½¿ç”¨ Link**ï¼šè·¨åœºæ™¯/è·¨æ¨¡å—å¯»è·¯å¿…é¡»é¢„ç½®æˆ–åŠ¨æ€ç”Ÿæˆ `NavMeshLink`ã€‚
- **æ— ç¼é”™è§‰**ï¼šå¦‚æœä¸¤ä¸ªç½‘æ ¼é‡å ï¼ŒAgent æœ‰æ—¶çœ‹èµ·æ¥èƒ½è¿‡å»ï¼Œå¯èƒ½æ˜¯å› ä¸ºä½¿ç”¨äº† `Warp` æˆ–ç‰©ç†æ¨æŒ¤ï¼Œä½†ä»å¯»è·¯å›¾(Graph)å±‚é¢çœ‹æ˜¯ä¸é€šçš„ã€‚

### ç¤ºä¾‹

**é”™è¯¯çš„åšæ³•**ï¼š
1. çƒ˜ç„™åœºæ™¯ A çš„åœ°é¢ã€‚
2. çƒ˜ç„™åœºæ™¯ B çš„åœ°é¢ã€‚
3. è¿è¡Œæ—¶åŠ è½½ä¸¤è€…ï¼Œè¾¹ç¼˜é‡å ã€‚
4. æœŸæœ› Agent è‡ªåŠ¨æ‹¥æœ‰è·¨åœºæ™¯è·¯å¾„ -> **å¤±è´¥**ã€‚

**æ­£ç¡®çš„åšæ³•**ï¼š
1. åˆ†åˆ«çƒ˜ç„™ã€‚
2. åœ¨åœºæ™¯ A/B æ¥ç¼å¤„æ”¾ç½® `NavMeshLink`ã€‚
3. è¿è¡Œæ—¶åŠ è½½ -> **æˆåŠŸ**ã€‚

### å‚è€ƒé“¾æ¥

- [NavMesh Surface - Loading Multiple NavMeshes](https://docs.unity3d.com/Packages/com.unity.ai.navigation@1.1/manual/NavMeshSurface.html#loading-multiple-navmeshes-using-additive-loading) - å®˜æ–¹å…³äºå¤šåœºæ™¯åŠ è½½çš„è¯´æ˜
- [Building a NavMesh at Runtime](https://docs.unity3d.com/Manual/nav-BuildingNavMesh.html) - è¿è¡Œæ—¶æ„å»º NavMesh
- [NavMesh Components (GitHub)](https://github.com/Unity-Technologies/NavMeshComponents) - Unity NavMesh Components å®˜æ–¹ä»“åº“

---
